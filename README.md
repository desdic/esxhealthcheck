# Simple health check of ESXi installations

Usage:

#$ ./healthcheckesxi.pl --server myesxi.example.com --debug
"System Board 1 System Level --- Normal" [OK]
"System Board 1 Ambient Temp --- Normal" [OK]
"VMware Rollup Health State" [OK]
"CPU1 Level-1 Cache is 196608 B" [OK]
"CPU1 Level-2 Cache is 1572864 B" [OK]
"CPU1 Level-3 Cache is 12582912 B" [OK]
"CPU2 Level-1 Cache is 196608 B" [OK]
"CPU2 Level-2 Cache is 1572864 B" [OK]
"CPU2 Level-3 Cache is 12582912 B" [OK]
"Dell Inc. BMC Firmware (node 0) 46:10000 3.2 " [OK]
"Dell Inc. System BIOS 2.3.10 2011-01-24 00:00:00.000" [OK]
"VMware, Inc. VMware ESXi 4.1.0 build-348481 2011-01-12 00:00:00.000" [OK]
"VMware, Inc. VMware ESXi Alternate Boot Bank 4.1.0 build-348481 " [OK]
"Controller 0 (PERC 6/i Integrated) 6.2.0-0013 (Package); 1.22.02-0612(Fw) 2009-03-30 00:00:00.000" [OK]
" vmware-esx-drivers-scsi-qla2xxx 400.831.k1.28.1-1vmw.1.4.348481 " [OK]
" vmware-esx-drivers-hid-hid 400.2.6.0.1-1vmw.1.4.348481 " [OK]
" oem-vmware-esx-drivers-scsi-3w-9xxx 400.2.26.08.036vm40-1OEM 2010-08-20 05:42:32.000" [OK]
" oem-vmware-esx-drivers-net-vxge 400.2.0.28.21239-1OEM 2010-08-27 19:46:27.000" [OK]
" vmware-esx-drivers-ata-pata-atiixp 400.0.4.3.1-1vmw.1.4.348481 2010-08-27 19:46:27.000" [OK]
" vmware-esx-drivers-sata-ahci 400.2.0.0.1-5vmw.1.4.348481 2010-08-27 19:46:27.000" [OK]
" vmware-esx-drivers-ohci-usb-ohci 400.1.0.0.1-1vmw.1.4.348481 2010-08-27 19:46:27.000" [OK]
" vmware-esx-drivers-scsi-lpfc820 400.8.2.1.30.1-58vmw.1.4.348481 2010-08-27 19:46:27.000" [OK]
" vmware-esx-drivers-scsi-qla4xxx 400.5.01.03.1-10vmw.1.4.348481 2010-08-27 19:46:27.000" [OK]
" vmware-esx-drivers-uhci-usb-uhci 400.3.0.0.1-1vmw.1.4.348481 2010-08-27 19:46:27.000" [OK]
" vmware-esx-drivers-ata-pata-via 400.0.1.14.1-1vmw.1.4.348481 2010-08-27 19:46:27.000" [OK]
" vmware-esx-drivers-char-hpcru 400.1.1.0.1-1vmw.1.4.348481 2010-08-27 19:46:27.000" [OK]
" vmware-esx-drivers-net-s2io 400.2.1.4.13427.1-1vmw.1.4.348481 2010-08-27 19:46:27.000" [OK]
" emulex-cim-provider 410.2.0.32.1-207424 2010-08-27 19:46:27.000" [OK]
" vmware-esx-drivers-scsi-iscsi-linux 400.1.0.0.1-1vmw.1.4.348481 2010-08-27 19:46:27.000" [OK]
" vmware-esx-drivers-sata-sata-svw 400.2.0.0.1-1vmw.1.4.348481 2010-08-27 19:46:27.000" [OK]
" vmware-esx-drivers-ata-pata-sil680 400.0.3.2.1-1vmw.1.4.348481 2010-08-27 19:46:27.000" [OK]
" vmware-esx-drivers-net-nx-nic 400.4.0.550.1-1vmw.1.4.348481 2010-08-27 19:46:27.000" [OK]
" vmware-esx-drivers-scsi-mptsas 400.4.21.00.01.1-6vmw.1.4.348481 2010-08-27 19:46:27.000" [OK]
" vmware-esx-drivers-ata-pata-hpt3x2n 400.0.3.0.1-1vmw.1.4.348481 2010-08-27 19:46:27.000" [OK]
" vmware-esx-drivers-net-forcedeth 400.0.61.0.1-1vmw.1.4.348481 2010-08-27 19:46:27.000" [OK]
" vmware-esx-drivers-scsi-adp94xx 400.1.0.8.12.1-1vmw.1.4.348481 2010-08-27 19:46:27.000" [OK]
" vmware-esx-drivers-sata-ata-piix 400.2.00ac6.1-3vmw.1.4.348481 2010-08-27 19:46:27.000" [OK]
" lsi-provider 410.04.V0.24-140815 2010-08-27 19:46:27.000" [OK]
" vmware-esx-drivers-ata-pata-pdc2027x 400.0.74ac5.1-1vmw.1.4.348481 2010-08-27 19:46:27.000" [OK]
" vmware-esx-drivers-net-bnx2x 400.1.54.1.v41.1-2vmw.1.4.348481 2010-08-27 19:46:27.000" [OK]
" vmware-esx-drivers-ata-libata 400.2.00.1-1vmw.1.4.348481 2010-08-27 19:46:27.000" [OK]
" vmware-esx-drivers-net-ixgbe 400.2.0.38.2.5.1-1vmw.1.4.348481 2010-08-27 19:46:27.000" [OK]
" vmware-esx-drivers-net-bnx2 400.2.0.7d-3vmw.1.4.348481 2010-08-27 19:46:27.000" [OK]
" vmware-esx-drivers-net-e1000 400.8.0.3.2-1vmw.1.4.348481 2010-08-27 19:46:27.000" [OK]
" vmware-esx-tools-light 4.1.0-1.4.348481 2010-08-27 19:46:27.000" [OK]
" vmware-esx-drivers-scsi-mpt2sas 400.04.255.03.00.1-6vmw.1.4.348481 2010-08-27 19:46:27.000" [OK]
" vmware-esx-drivers-scsi-bnx2i 400.1.8.11t5.rc2.8.1-4vmw.1.4.348481 2010-08-27 19:46:27.000" [OK]
" vmware-esx-drivers-sata-sata-nv 400.2.0.0.1-1vmw.1.4.348481 2010-08-27 19:46:27.000" [OK]
" qlogic-fchba-provider 400.1.1.8-140815 2010-08-27 19:46:27.000" [OK]
" vmware-esx-drivers-net-sky2 400.1.20-1vmw.1.4.348481 2010-08-27 19:46:27.000" [OK]
" vmware-esx-drivers-usb-storage-usb-storage 400.1.0.0.1-1vmw.1.4.348481 2010-08-27 19:46:27.000" [OK]
" vmware-esx-drivers-scsi-megaraid-mbox 400.2.20.5.1.4-1vmw.1.4.348481 2010-08-27 19:46:27.000" [OK]
" vmware-esx-drivers-ata-pata-cmd64x 400.0.2.1.1-1vmw.1.4.348481 2010-08-27 19:46:27.000" [OK]
" vmware-esx-drivers-sata-sata-sil 400.2.0.0.1-1vmw.1.4.348481 2010-08-27 19:46:27.000" [OK]
" vmware-esx-drivers-usbcore-usb 400.1.0.0.1-1vmw.1.4.348481 2010-08-27 19:46:27.000" [OK]
" vmware-esx-drivers-char-tpm-tis 400.0.0.1.1-1vmw.1.4.348481 2010-08-27 19:46:27.000" [OK]
" vmware-esx-drivers-char-random 400.1.0.0.1-1vmw.1.4.348481 2010-08-27 19:46:27.000" [OK]
" vmware-esx-drivers-scsi-aacraid 400.4.1.1.5.1-1vmw.1.4.348481 2010-08-27 19:46:27.000" [OK]
" vmware-esx-drivers-net-usbnet 400.1.0.0.1-2vmw.1.4.348481 2010-08-27 19:46:27.000" [OK]
" vmware-esx-drivers-ipmi-ipmi-si-drv 400.39.2.0.1-1vmw.1.4.348481 2010-08-27 19:46:27.000" [OK]
" vmware-esx-firmware 4.1.0-1.4.348481 2010-08-27 19:46:27.000" [OK]
" vmware-esx-drivers-scsi-megaraid2 400.2.00.4.1-4vmw.1.4.348481 2010-08-27 19:46:27.000" [OK]
" vmware-esx-drivers-ipmi-ipmi-msghandler 400.39.2.0.1-1vmw.1.4.348481 2010-08-27 19:46:27.000" [OK]
" vmware-esx-drivers-scsi-aic79xx 400.3.2.0.1-1vmw.1.4.348481 2010-08-27 19:46:27.000" [OK]
" vmware-esx-drivers-scsi-fnic 400.1.1.0.113.2-4vmw.1.4.348481 2010-08-27 19:46:27.000" [OK]
" vmware-esx-drivers-char-pseudo-char-dev 400.0.0.1.1-1vmw.1.4.348481 2010-08-27 19:46:27.000" [OK]
" vmware-esx-drivers-net-tg3 400.3.86.0.1-1vmw.1.4.348481 2010-08-27 19:46:27.000" [OK]
" vmware-esx-drivers-scsi-hpsa 400.3.6.14.45-4vmw.1.4.348481 2010-08-27 19:46:27.000" [OK]
" vmware-esx-drivers-scsi-sample-iscsi 400.1.0.0-1vmw.1.4.348481 2010-08-27 19:46:27.000" [OK]
" vmware-esx-drivers-block-cciss 400.3.6.14.10.1-2vmw.1.4.348481 2010-08-27 19:46:27.000" [OK]
" vmware-esx-drivers-sata-sata-promise 400.1.04.0.1-1vmw.1.4.348481 2010-08-27 19:46:27.000" [OK]
" vmware-esx-drivers-net-cdc-ether 400.1.0.0.1-2vmw.1.4.348481 2010-08-27 19:46:27.000" [OK]
" vmware-esx-drivers-net-cnic 400.1.9.7d.rc2.3.1-2vmw.1.4.348481 2010-08-27 19:46:27.000" [OK]
" vmware-esx-drivers-ioat-ioat 400.2.15.0.1-1vmw.1.4.348481 2010-08-27 19:46:27.000" [OK]
" vmware-esx-drivers-ipmi-ipmi-devintf 400.39.2.0.1-1vmw.1.4.348481 2010-08-27 19:46:27.000" [OK]
" vmware-esx-drivers-net-igb 400.1.3.19.12.2-2vmw.1.4.348481 2010-08-27 19:46:27.000" [OK]
" vmware-esx-drivers-net-enic 400.1.4.0.261-1vmw.1.4.348481 2010-08-27 19:46:27.000" [OK]
" vmware-esx-drivers-scsi-ips 400.7.12.06.1-3vmw.1.4.348481 2010-08-27 19:46:27.000" [OK]
" vmware-esx-drivers-net-e1000e 400.1.1.2.1-1vmw.1.4.348481 2010-08-27 19:46:27.000" [OK]
" vmware-esx-drivers-ata-pata-serverworks 400.0.3.7.1-1vmw.1.4.348481 2010-08-27 19:46:27.000" [OK]
" vmware-esx-drivers-ata-pata-amd 400.0.2.4.1-1vmw.1.4.348481 2010-08-27 19:46:27.000" [OK]
" vmware-esx-drivers-scsi-megaraid-sas 400.4.0.14.1-18vmw.1.4.348481 2010-08-27 19:46:27.000" [OK]
" vmware-esx-drivers-ehci-ehci-hcd 400.1.0.0.1-1vmw.1.4.348481 2010-08-27 19:46:27.000" [OK]
" vmware-esx-drivers-vmklinux-vmklinux 4.1.0-1.4.348481 2010-08-27 19:46:27.000" [OK]
" vmware-esx-drivers-scsi-mptspi 400.4.21.00.01.1-6vmw.1.4.348481 2010-08-27 19:46:27.000" [OK]
"bnx2 driver 2.0.7d-3vmw " [OK]
"bnx2 driver 2.0.7d-3vmw " [OK]
"bnx2 device firmware 5.2.2 NCSI 2.0.8 " [OK]
"bnx2 device firmware 5.2.2 NCSI 2.0.8 " [OK]
"Disk Drive Bay 1 Drive 1: Drive Fault - Deassert" [OK]
"Disk Drive Bay 1 Drive 1: Predictive Failure - Deassert" [OK]
"Disk Drive Bay 1 Drive 1: Parity Check In Progress - Deassert" [OK]
"Disk Drive Bay 1 Drive 1: In Critical Array - Deassert" [OK]
"Disk Drive Bay 1 Drive 1: In Failed Array - Deassert" [OK]
"Disk Drive Bay 1 Drive 1: Rebuild In Progress - Deassert" [OK]
"Disk Drive Bay 1 Drive 1: Rebuild Aborted - Deassert" [OK]
"Disk Drive Bay 1 Drive 0: Drive Fault - Deassert" [OK]
"Disk Drive Bay 1 Drive 0: Predictive Failure - Deassert" [OK]
"Disk Drive Bay 1 Drive 0: Parity Check In Progress - Deassert" [OK]
"Disk Drive Bay 1 Drive 0: In Critical Array - Deassert" [OK]
"Disk Drive Bay 1 Drive 0: In Failed Array - Deassert" [OK]
"Disk Drive Bay 1 Drive 0: Rebuild In Progress - Deassert" [OK]
"Disk Drive Bay 1 Drive 0: Rebuild Aborted - Deassert" [OK]
"System Board 1 OS Watch 0: Timer expired - Deassert" [OK]
"System Board 1 OS Watch 0: Hard reset - Deassert" [OK]
"System Board 1 OS Watch 0: Power down - Deassert" [OK]
"System Board 1 OS Watch 0: Power cycle - Deassert" [OK]
"Processor 2 Status 0: IERR - Deassert" [OK]
"Processor 2 Status 0: Thermal Trip - Deassert" [OK]
"Processor 2 Status 0: Configuration Error - Deassert" [OK]
"Processor 1 Status 0: IERR - Deassert" [OK]
"Processor 1 Status 0: Thermal Trip - Deassert" [OK]
"Processor 1 Status 0: Configuration Error - Deassert" [OK]
"Processor 2 PLL PG 0 - State deasserted" [OK]
"Processor 1 PLL PG 0 - State deasserted" [OK]
"System Board 1 12V PG 0 - State deasserted" [OK]
"System Board 1 1.5V PG 0 - State deasserted" [OK]
"Processor 2 Memory PG 0 - State deasserted" [OK]
"Processor 1 Memory PG 0 - State deasserted" [OK]
"System Board 1 1.05V PG 0 - State deasserted" [OK]
"System Board 1 1.8V PG 0 - State deasserted" [OK]
"Processor 2 0.75V PG 0 - State deasserted" [OK]
"Processor 1 0.75V PG 0 - State deasserted" [OK]
"Disk Drive Bay 3 PG 0 - State deasserted" [OK]
"Add-in Card 3 PG 0 - State deasserted" [OK]
"System Board 1 1.2V LOM PG 0 - State deasserted" [OK]
"System Board 1 1.1V PG 0 - State deasserted" [OK]
"System Board 1 1.0V AUX PG 0 - State deasserted" [OK]
"System Board 1 5V PG 0 - State deasserted" [OK]
"System Board 1 3.3V PG 0 - State deasserted" [OK]
"System Board 1 8V PG 0 - State deasserted" [OK]
"Processor 2 Vtt PG 0 - State deasserted" [OK]
"Processor 1 Vtt PG 0 - State deasserted" [OK]
"Processor 2 VCore PG 0 - State deasserted" [OK]
"Processor 1 VCore PG 0 - State deasserted" [OK]
"Disk Drive Bay 3 ROMB Battery 0: Low - Deassert" [OK]
"Disk Drive Bay 3 ROMB Battery 0: Failed - Deassert" [OK]
"System Board 1 CMOS Battery 0: Failed - Deassert" [OK]
--------------------------------
Summery:
--------------------------------
Result: 0
